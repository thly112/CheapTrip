{"ast":null,"code":"const handleSend = async () => {\n  if (!input.trim()) return;\n  const newMessages = [...messages, {\n    role: 'user',\n    text: input\n  }];\n  setMessages(newMessages); // cập nhật tạm thời để hiển thị user input\n  setInput('');\n  try {\n    const reply = await askGemini(input);\n    setMessages(prev => [...prev, {\n      role: 'ai',\n      text: reply\n    }]); // thêm AI reply\n  } catch (err) {\n    console.error(err);\n    setMessages(prev => [...prev, {\n      role: 'ai',\n      text: '❌ Lỗi kết nối đến AI'\n    }]);\n  }\n};","map":{"version":3,"names":["handleSend","input","trim","newMessages","messages","role","text","setMessages","setInput","reply","askGemini","prev","err","console","error"],"sources":["D:/hackathon/CheapTrip/front-end/src/pages/AssistantPage.jsx"],"sourcesContent":["const handleSend = async () => {\r\n    if (!input.trim()) return;\r\n  \r\n    const newMessages = [...messages, { role: 'user', text: input }];\r\n    setMessages(newMessages); // cập nhật tạm thời để hiển thị user input\r\n    setInput('');\r\n  \r\n    try {\r\n      const reply = await askGemini(input);\r\n      setMessages((prev) => [...prev, { role: 'ai', text: reply }]); // thêm AI reply\r\n    } catch (err) {\r\n      console.error(err);\r\n      setMessages((prev) => [...prev, { role: 'ai', text: '❌ Lỗi kết nối đến AI' }]);\r\n    }\r\n  };\r\n  "],"mappings":"AAAA,MAAMA,UAAU,GAAG,MAAAA,CAAA,KAAY;EAC3B,IAAI,CAACC,KAAK,CAACC,IAAI,CAAC,CAAC,EAAE;EAEnB,MAAMC,WAAW,GAAG,CAAC,GAAGC,QAAQ,EAAE;IAAEC,IAAI,EAAE,MAAM;IAAEC,IAAI,EAAEL;EAAM,CAAC,CAAC;EAChEM,WAAW,CAACJ,WAAW,CAAC,CAAC,CAAC;EAC1BK,QAAQ,CAAC,EAAE,CAAC;EAEZ,IAAI;IACF,MAAMC,KAAK,GAAG,MAAMC,SAAS,CAACT,KAAK,CAAC;IACpCM,WAAW,CAAEI,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAE;MAAEN,IAAI,EAAE,IAAI;MAAEC,IAAI,EAAEG;IAAM,CAAC,CAAC,CAAC,CAAC,CAAC;EACjE,CAAC,CAAC,OAAOG,GAAG,EAAE;IACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;IAClBL,WAAW,CAAEI,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAE;MAAEN,IAAI,EAAE,IAAI;MAAEC,IAAI,EAAE;IAAuB,CAAC,CAAC,CAAC;EAChF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}