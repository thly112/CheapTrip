{"ast":null,"code":"var _jsxFileName = \"D:\\\\New folder\\\\CheapTrip\\\\front-end\\\\src\\\\pages\\\\Home.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport '../styles/home.css';\nimport { askGemini } from '../services/aiService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Home = () => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [loading, setLoading] = useState(false);\n  const chatEndRef = useRef(null);\n  const scrollToBottom = () => {\n    var _chatEndRef$current;\n    (_chatEndRef$current = chatEndRef.current) === null || _chatEndRef$current === void 0 ? void 0 : _chatEndRef$current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages, loading]);\n  const handleSend = async () => {\n    if (!input.trim() || loading) return;\n    const userMessage = {\n      role: 'user',\n      parts: [{\n        text: input\n      }]\n    };\n    const systemPrompt = {\n      role: 'user',\n      parts: [{\n        text: 'B·∫°n l√† m·ªôt tr·ª£ l√Ω ·∫£o chuy√™n v·ªÅ du l·ªãch t√™n l√† chipchip. Ch·ªâ tr·∫£ l·ªùi c√°c c√¢u h·ªèi li√™n quan ƒë·∫øn th√¥ng tin kh√°ch h√†ng v√† du l·ªãch nh∆∞ g·ª£i √Ω h√†nh tr√¨nh, ƒë·ªãa ƒëi·ªÉm tham quan, ng√¢n s√°ch, ph∆∞∆°ng ti·ªán di chuy·ªÉn, tr·∫£i nghi·ªám. N·∫øu c√¢u h·ªèi kh√¥ng li√™n quan, h√£y t·ª´ ch·ªëi m·ªôt c√°ch l·ªãch s·ª±. Kh√¥ng h·ªèi nhi·ªÅu h∆°n 1 c√¢u. Th√™m icon cu·ªëi c√¢u'\n      }]\n    };\n    const conversation = [systemPrompt, ...messages, userMessage];\n    setMessages(prev => [...prev, userMessage]);\n    setInput('');\n    setLoading(true);\n    try {\n      const reply = await askGemini(conversation);\n      const botMessage = {\n        role: 'model',\n        parts: [{\n          text: reply\n        }]\n      };\n      setMessages(prev => [...prev, botMessage]);\n    } catch (err) {\n      console.error(err);\n      setMessages(prev => [...prev, {\n        role: 'model',\n        parts: [{\n          text: '‚ùå L·ªói k·∫øt n·ªëi ƒë·∫øn AI'\n        }]\n      }]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chatgpt-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chatgpt-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"ChipChip - Tr\\u1EE3 l\\xFD du l\\u1ECBch th\\xF4ng minh \\uD83E\\uDDED\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chatgpt-messages\",\n      children: [messages.map((msg, idx) => {\n        var _msg$parts$;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `chatgpt-message ${msg.role === 'user' ? 'user' : 'bot'}`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-bubble\",\n            children: (_msg$parts$ = msg.parts[0]) === null || _msg$parts$ === void 0 ? void 0 : _msg$parts$.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this);\n      }), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chatgpt-message bot\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-bubble\",\n          children: \"ChipChip \\u0111ang suy ngh\\u0129...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: chatEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chatgpt-input\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"H\\u1ECFi ChipChip v\\u1EC1 chuy\\u1EBFn \\u0111i c\\u1EE7a b\\u1EA1n...\",\n        value: input,\n        onChange: e => setInput(e.target.value),\n        onKeyDown: e => e.key === 'Enter' && handleSend(),\n        disabled: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSend,\n        disabled: loading,\n        children: \"G\\u1EEDi\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n_s(Home, \"etHEPUAOfhTUSDXkYnZsQ4tyPN0=\");\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","useRef","useEffect","askGemini","jsxDEV","_jsxDEV","Home","_s","messages","setMessages","input","setInput","loading","setLoading","chatEndRef","scrollToBottom","_chatEndRef$current","current","scrollIntoView","behavior","handleSend","trim","userMessage","role","parts","text","systemPrompt","conversation","prev","reply","botMessage","err","console","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","msg","idx","_msg$parts$","ref","type","placeholder","value","onChange","e","target","onKeyDown","key","disabled","onClick","_c","$RefreshReg$"],"sources":["D:/New folder/CheapTrip/front-end/src/pages/Home.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport '../styles/home.css';\r\nimport { askGemini } from '../services/aiService';\r\n\r\ninterface Message {\r\n  role: 'user' | 'model';\r\n  parts: { text: string }[];\r\n}\r\n\r\nconst Home: React.FC = () => {\r\n  const [messages, setMessages] = useState<Message[]>([]);\r\n  const [input, setInput] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const chatEndRef = useRef<HTMLDivElement | null>(null);\r\n\r\n  const scrollToBottom = () => {\r\n    chatEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages, loading]);\r\n\r\n  const handleSend = async () => {\r\n    if (!input.trim() || loading) return;\r\n\r\n    const userMessage: Message = {\r\n      role: 'user',\r\n      parts: [{ text: input }],\r\n    };\r\n\r\n    const systemPrompt: Message = {\r\n      role: 'user',\r\n      parts: [{\r\n        text: 'B·∫°n l√† m·ªôt tr·ª£ l√Ω ·∫£o chuy√™n v·ªÅ du l·ªãch t√™n l√† chipchip. Ch·ªâ tr·∫£ l·ªùi c√°c c√¢u h·ªèi li√™n quan ƒë·∫øn th√¥ng tin kh√°ch h√†ng v√† du l·ªãch nh∆∞ g·ª£i √Ω h√†nh tr√¨nh, ƒë·ªãa ƒëi·ªÉm tham quan, ng√¢n s√°ch, ph∆∞∆°ng ti·ªán di chuy·ªÉn, tr·∫£i nghi·ªám. N·∫øu c√¢u h·ªèi kh√¥ng li√™n quan, h√£y t·ª´ ch·ªëi m·ªôt c√°ch l·ªãch s·ª±. Kh√¥ng h·ªèi nhi·ªÅu h∆°n 1 c√¢u. Th√™m icon cu·ªëi c√¢u',\r\n      }],\r\n    };\r\n\r\n    const conversation: Message[] = [systemPrompt, ...messages, userMessage];\r\n\r\n    setMessages((prev) => [...prev, userMessage]);\r\n    setInput('');\r\n    setLoading(true);\r\n\r\n    try {\r\n      const reply = await askGemini(conversation);\r\n      const botMessage: Message = {\r\n        role: 'model',\r\n        parts: [{ text: reply }],\r\n      };\r\n      setMessages((prev) => [...prev, botMessage]);\r\n    } catch (err) {\r\n      console.error(err);\r\n      setMessages((prev) => [\r\n        ...prev,\r\n        {\r\n          role: 'model',\r\n          parts: [{ text: '‚ùå L·ªói k·∫øt n·ªëi ƒë·∫øn AI' }],\r\n        },\r\n      ]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"chatgpt-container\">\r\n      <div className=\"chatgpt-header\">\r\n        <h1>ChipChip - Tr·ª£ l√Ω du l·ªãch th√¥ng minh üß≠</h1>\r\n      </div>\r\n\r\n      <div className=\"chatgpt-messages\">\r\n        {messages.map((msg, idx) => (\r\n          <div\r\n            key={idx}\r\n            className={`chatgpt-message ${msg.role === 'user' ? 'user' : 'bot'}`}\r\n          >\r\n            <div className=\"message-bubble\">\r\n              {msg.parts[0]?.text}\r\n            </div>\r\n          </div>\r\n        ))}\r\n        {loading && (\r\n          <div className=\"chatgpt-message bot\">\r\n            <div className=\"message-bubble\">ChipChip ƒëang suy nghƒ©...</div>\r\n          </div>\r\n        )}\r\n        <div ref={chatEndRef} />\r\n      </div>\r\n\r\n      <div className=\"chatgpt-input\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"H·ªèi ChipChip v·ªÅ chuy·∫øn ƒëi c·ªßa b·∫°n...\"\r\n          value={input}\r\n          onChange={(e) => setInput(e.target.value)}\r\n          onKeyDown={(e) => e.key === 'Enter' && handleSend()}\r\n          disabled={loading}\r\n        />\r\n        <button onClick={handleSend} disabled={loading}>\r\n          G·ª≠i\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAC1D,OAAO,oBAAoB;AAC3B,SAASC,SAAS,QAAQ,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAOlD,MAAMC,IAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGT,QAAQ,CAAY,EAAE,CAAC;EACvD,MAAM,CAACU,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACY,OAAO,EAAEC,UAAU,CAAC,GAAGb,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAMc,UAAU,GAAGb,MAAM,CAAwB,IAAI,CAAC;EAEtD,MAAMc,cAAc,GAAGA,CAAA,KAAM;IAAA,IAAAC,mBAAA;IAC3B,CAAAA,mBAAA,GAAAF,UAAU,CAACG,OAAO,cAAAD,mBAAA,uBAAlBA,mBAAA,CAAoBE,cAAc,CAAC;MAAEC,QAAQ,EAAE;IAAS,CAAC,CAAC;EAC5D,CAAC;EAEDjB,SAAS,CAAC,MAAM;IACda,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,CAACP,QAAQ,EAAEI,OAAO,CAAC,CAAC;EAEvB,MAAMQ,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI,CAACV,KAAK,CAACW,IAAI,CAAC,CAAC,IAAIT,OAAO,EAAE;IAE9B,MAAMU,WAAoB,GAAG;MAC3BC,IAAI,EAAE,MAAM;MACZC,KAAK,EAAE,CAAC;QAAEC,IAAI,EAAEf;MAAM,CAAC;IACzB,CAAC;IAED,MAAMgB,YAAqB,GAAG;MAC5BH,IAAI,EAAE,MAAM;MACZC,KAAK,EAAE,CAAC;QACNC,IAAI,EAAE;MACR,CAAC;IACH,CAAC;IAED,MAAME,YAAuB,GAAG,CAACD,YAAY,EAAE,GAAGlB,QAAQ,EAAEc,WAAW,CAAC;IAExEb,WAAW,CAAEmB,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAEN,WAAW,CAAC,CAAC;IAC7CX,QAAQ,CAAC,EAAE,CAAC;IACZE,UAAU,CAAC,IAAI,CAAC;IAEhB,IAAI;MACF,MAAMgB,KAAK,GAAG,MAAM1B,SAAS,CAACwB,YAAY,CAAC;MAC3C,MAAMG,UAAmB,GAAG;QAC1BP,IAAI,EAAE,OAAO;QACbC,KAAK,EAAE,CAAC;UAAEC,IAAI,EAAEI;QAAM,CAAC;MACzB,CAAC;MACDpB,WAAW,CAAEmB,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAEE,UAAU,CAAC,CAAC;IAC9C,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;MAClBtB,WAAW,CAAEmB,IAAI,IAAK,CACpB,GAAGA,IAAI,EACP;QACEL,IAAI,EAAE,OAAO;QACbC,KAAK,EAAE,CAAC;UAAEC,IAAI,EAAE;QAAuB,CAAC;MAC1C,CAAC,CACF,CAAC;IACJ,CAAC,SAAS;MACRZ,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,oBACER,OAAA;IAAK6B,SAAS,EAAC,mBAAmB;IAAAC,QAAA,gBAChC9B,OAAA;MAAK6B,SAAS,EAAC,gBAAgB;MAAAC,QAAA,eAC7B9B,OAAA;QAAA8B,QAAA,EAAI;MAAuC;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7C,CAAC,eAENlC,OAAA;MAAK6B,SAAS,EAAC,kBAAkB;MAAAC,QAAA,GAC9B3B,QAAQ,CAACgC,GAAG,CAAC,CAACC,GAAG,EAAEC,GAAG;QAAA,IAAAC,WAAA;QAAA,oBACrBtC,OAAA;UAEE6B,SAAS,EAAE,mBAAmBO,GAAG,CAAClB,IAAI,KAAK,MAAM,GAAG,MAAM,GAAG,KAAK,EAAG;UAAAY,QAAA,eAErE9B,OAAA;YAAK6B,SAAS,EAAC,gBAAgB;YAAAC,QAAA,GAAAQ,WAAA,GAC5BF,GAAG,CAACjB,KAAK,CAAC,CAAC,CAAC,cAAAmB,WAAA,uBAAZA,WAAA,CAAclB;UAAI;YAAAW,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChB;QAAC,GALDG,GAAG;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAML,CAAC;MAAA,CACP,CAAC,EACD3B,OAAO,iBACNP,OAAA;QAAK6B,SAAS,EAAC,qBAAqB;QAAAC,QAAA,eAClC9B,OAAA;UAAK6B,SAAS,EAAC,gBAAgB;UAAAC,QAAA,EAAC;QAAyB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5D,CACN,eACDlC,OAAA;QAAKuC,GAAG,EAAE9B;MAAW;QAAAsB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrB,CAAC,eAENlC,OAAA;MAAK6B,SAAS,EAAC,eAAe;MAAAC,QAAA,gBAC5B9B,OAAA;QACEwC,IAAI,EAAC,MAAM;QACXC,WAAW,EAAC,oEAAsC;QAClDC,KAAK,EAAErC,KAAM;QACbsC,QAAQ,EAAGC,CAAC,IAAKtC,QAAQ,CAACsC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;QAC1CI,SAAS,EAAGF,CAAC,IAAKA,CAAC,CAACG,GAAG,KAAK,OAAO,IAAIhC,UAAU,CAAC,CAAE;QACpDiC,QAAQ,EAAEzC;MAAQ;QAAAwB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnB,CAAC,eACFlC,OAAA;QAAQiD,OAAO,EAAElC,UAAW;QAACiC,QAAQ,EAAEzC,OAAQ;QAAAuB,QAAA,EAAC;MAEhD;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAChC,EAAA,CAhGID,IAAc;AAAAiD,EAAA,GAAdjD,IAAc;AAkGpB,eAAeA,IAAI;AAAC,IAAAiD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}